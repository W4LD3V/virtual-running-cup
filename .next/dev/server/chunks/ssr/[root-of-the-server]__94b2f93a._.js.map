{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 9, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/styles/Home.module.css [ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"error\": \"Home-module__g21JLG__error\",\n  \"header\": \"Home-module__g21JLG__header\",\n  \"km\": \"Home-module__g21JLG__km\",\n  \"list\": \"Home-module__g21JLG__list\",\n  \"listItem\": \"Home-module__g21JLG__listItem\",\n  \"listItems\": \"Home-module__g21JLG__listItems\",\n  \"listTitle\": \"Home-module__g21JLG__listTitle\",\n  \"loading\": \"Home-module__g21JLG__loading\",\n  \"main\": \"Home-module__g21JLG__main\",\n  \"name\": \"Home-module__g21JLG__name\",\n  \"placeLabel\": \"Home-module__g21JLG__placeLabel\",\n  \"podium\": \"Home-module__g21JLG__podium\",\n  \"podiumCard\": \"Home-module__g21JLG__podiumCard\",\n  \"subtitle\": \"Home-module__g21JLG__subtitle\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 31, "column": 0}, "map": {"version":3,"sources":["file:///Users/ransom/Documents/Programming/lib/graphqlClient.ts"],"sourcesContent":["import { GraphQLClient, gql } from \"graphql-request\";\nimport type { LeaderboardEntry } from \"./leaderboardRepo\";\n\nexport const WEEKLY_LEADERBOARD_QUERY = gql`\n  query WeeklyLeaderboard {\n    weeklyLeaderboard {\n      id\n      athleteName\n      kmThisWeek\n    }\n  }\n`;\n\nexport type WeeklyLeaderboardResponse = {\n  weeklyLeaderboard: LeaderboardEntry[];\n};\n\nexport const createGraphQLClient = (endpoint: string) => new GraphQLClient(endpoint);\n\nexport const fetchWeeklyLeaderboard = async (endpoint: string) => {\n  const client = createGraphQLClient(endpoint);\n  const data = await client.request<WeeklyLeaderboardResponse>(WEEKLY_LEADERBOARD_QUERY);\n  return data.weeklyLeaderboard;\n};\n"],"names":[],"mappings":";;;;;;;;AAAA;;;;;;AAGO,MAAM,2BAA2B,oMAAG,CAAC;;;;;;;;AAQ5C,CAAC;AAMM,MAAM,sBAAsB,CAAC,WAAqB,IAAI,8MAAa,CAAC;AAEpE,MAAM,yBAAyB,OAAO;IAC3C,MAAM,SAAS,oBAAoB;IACnC,MAAM,OAAO,MAAM,OAAO,OAAO,CAA4B;IAC7D,OAAO,KAAK,iBAAiB;AAC/B"}},
    {"offset": {"line": 67, "column": 0}, "map": {"version":3,"sources":["file:///Users/ransom/Documents/Programming/pages/index.tsx"],"sourcesContent":["import Head from \"next/head\";\nimport type { GetServerSideProps } from \"next\";\nimport useSWR from \"swr\";\nimport styles from \"../styles/Home.module.css\";\nimport { fetchWeeklyLeaderboard } from \"../lib/graphqlClient\";\nimport type { LeaderboardEntry } from \"../lib/leaderboardRepo\";\n\nconst SWR_KEY = [\"weeklyLeaderboard\"] as const;\n\ntype HomeProps = {\n  initialLeaderboard: LeaderboardEntry[];\n  graphqlEndpoint: string;\n};\n\nconst fetcher = (endpoint: string) => fetchWeeklyLeaderboard(endpoint);\n\nexport default function Home({ initialLeaderboard, graphqlEndpoint }: HomeProps) {\n  const { data, error, isLoading } = useSWR(SWR_KEY, () => fetcher(graphqlEndpoint), {\n    fallbackData: initialLeaderboard,\n    revalidateOnFocus: true,\n    refreshInterval: 0\n  });\n\n  const leaderboard = data ?? [];\n\n  return (\n    <>\n      <Head>\n        <title>Online Racing — Weekly Leaderboard</title>\n        <meta\n          name=\"description\"\n          content=\"Track weekly challenges like most kilometers and climb the leaderboard.\"\n        />\n      </Head>\n      <main className={styles.main}>\n        <header className={styles.header}>\n          <h1 data-testid=\"leaderboard-title\">Weekly Leaderboard</h1>\n          <p className={styles.subtitle}>Most km this week</p>\n        </header>\n\n        {error && <p className={styles.error}>Failed to load leaderboard.</p>}\n        {isLoading && leaderboard.length === 0 && (\n          <p className={styles.loading}>Loading leaderboard…</p>\n        )}\n\n        <section className={styles.podium}>\n          {leaderboard.slice(0, 3).map((entry, index) => (\n            <article\n              key={entry.id}\n              className={styles.podiumCard}\n              data-testid={`podium-${index + 1}`}\n            >\n              <span className={styles.placeLabel}>Place {index + 1}</span>\n              <strong className={styles.name}>{entry.athleteName}</strong>\n              <span className={styles.km}>{entry.kmThisWeek} km</span>\n            </article>\n          ))}\n        </section>\n\n        {leaderboard.length > 3 && (\n          <section className={styles.list}>\n            <h2 className={styles.listTitle}>All entries</h2>\n            <ul className={styles.listItems}>\n              {leaderboard.slice(3).map((entry) => (\n                <li key={entry.id} className={styles.listItem}>\n                  <span>{entry.athleteName}</span>\n                  <span>{entry.kmThisWeek} km</span>\n                </li>\n              ))}\n            </ul>\n          </section>\n        )}\n      </main>\n    </>\n  );\n}\n\nexport const getServerSideProps: GetServerSideProps<HomeProps> = async ({ req }) => {\n  const protocol = (req.headers[\"x-forwarded-proto\"] as string) ?? \"http\";\n  const host = req.headers.host ?? \"localhost:3000\";\n  const graphqlEndpoint = `${protocol}://${host}/api/graphql`;\n  const initialLeaderboard = await fetchWeeklyLeaderboard(graphqlEndpoint);\n\n  return {\n    props: {\n      initialLeaderboard,\n      graphqlEndpoint\n    }\n  };\n};\n"],"names":[],"mappings":";;;;;;;AAAA;AAEA;AACA;AACA;;;;;;;;;;;AAGA,MAAM,UAAU;IAAC;CAAoB;AAOrC,MAAM,UAAU,CAAC,WAAqB,IAAA,uIAAsB,EAAC;AAE9C,SAAS,KAAK,EAAE,kBAAkB,EAAE,eAAe,EAAa;IAC7E,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,SAAS,EAAE,GAAG,IAAA,2JAAM,EAAC,SAAS,IAAM,QAAQ,kBAAkB;QACjF,cAAc;QACd,mBAAmB;QACnB,iBAAiB;IACnB;IAEA,MAAM,cAAc,QAAQ,EAAE;IAE9B,qBACE;;0BACE,qKAAC,gIAAI;;kCACH,qKAAC;kCAAM;;;;;;kCACP,qKAAC;wBACC,MAAK;wBACL,SAAQ;;;;;;;;;;;;0BAGZ,qKAAC;gBAAK,WAAW,8HAAM,CAAC,IAAI;;kCAC1B,qKAAC;wBAAO,WAAW,8HAAM,CAAC,MAAM;;0CAC9B,qKAAC;gCAAG,eAAY;0CAAoB;;;;;;0CACpC,qKAAC;gCAAE,WAAW,8HAAM,CAAC,QAAQ;0CAAE;;;;;;;;;;;;oBAGhC,uBAAS,qKAAC;wBAAE,WAAW,8HAAM,CAAC,KAAK;kCAAE;;;;;;oBACrC,aAAa,YAAY,MAAM,KAAK,mBACnC,qKAAC;wBAAE,WAAW,8HAAM,CAAC,OAAO;kCAAE;;;;;;kCAGhC,qKAAC;wBAAQ,WAAW,8HAAM,CAAC,MAAM;kCAC9B,YAAY,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,OAAO,sBACnC,qKAAC;gCAEC,WAAW,8HAAM,CAAC,UAAU;gCAC5B,eAAa,CAAC,OAAO,EAAE,QAAQ,GAAG;;kDAElC,qKAAC;wCAAK,WAAW,8HAAM,CAAC,UAAU;;4CAAE;4CAAO,QAAQ;;;;;;;kDACnD,qKAAC;wCAAO,WAAW,8HAAM,CAAC,IAAI;kDAAG,MAAM,WAAW;;;;;;kDAClD,qKAAC;wCAAK,WAAW,8HAAM,CAAC,EAAE;;4CAAG,MAAM,UAAU;4CAAC;;;;;;;;+BANzC,MAAM,EAAE;;;;;;;;;;oBAWlB,YAAY,MAAM,GAAG,mBACpB,qKAAC;wBAAQ,WAAW,8HAAM,CAAC,IAAI;;0CAC7B,qKAAC;gCAAG,WAAW,8HAAM,CAAC,SAAS;0CAAE;;;;;;0CACjC,qKAAC;gCAAG,WAAW,8HAAM,CAAC,SAAS;0CAC5B,YAAY,KAAK,CAAC,GAAG,GAAG,CAAC,CAAC,sBACzB,qKAAC;wCAAkB,WAAW,8HAAM,CAAC,QAAQ;;0DAC3C,qKAAC;0DAAM,MAAM,WAAW;;;;;;0DACxB,qKAAC;;oDAAM,MAAM,UAAU;oDAAC;;;;;;;;uCAFjB,MAAM,EAAE;;;;;;;;;;;;;;;;;;;;;;;;AAWjC;AAEO,MAAM,qBAAoD,OAAO,EAAE,GAAG,EAAE;IAC7E,MAAM,WAAW,AAAC,IAAI,OAAO,CAAC,oBAAoB,IAAe;IACjE,MAAM,OAAO,IAAI,OAAO,CAAC,IAAI,IAAI;IACjC,MAAM,kBAAkB,GAAG,SAAS,GAAG,EAAE,KAAK,YAAY,CAAC;IAC3D,MAAM,qBAAqB,MAAM,IAAA,uIAAsB,EAAC;IAExD,OAAO;QACL,OAAO;YACL;YACA;QACF;IACF;AACF"}}]
}